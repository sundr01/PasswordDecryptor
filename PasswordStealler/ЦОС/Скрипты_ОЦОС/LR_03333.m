% Ввод данных
N = input('Введите N (количество отсчетов в периоде): ');
n_imp = input('Введите n_imp (количество отсчетов в импульсе): ');
fs = input('Введите частоту дискретизации fs (Гц): ');
% Генерация периодической последовательности прямоугольных импульсов
x = [ones(1, n_imp), zeros(1, N-n_imp)];
% Длина импульса
pulse_duration = n_imp;
% Период и скважность
period = N;
duty_cycle = (N/n_imp); % Правильная формула
% Вычисление ДПФ
X = fft(x);
% Нормализованные частоты
k = 0:N-1;
% Абсолютные частоты
f = k / fs
% Вывод графиков во временной области
figure;
subplot(2,1,1);
stem((0:N-1)/fs, x);
xlabel('Дискретное время nT');
ylabel('Амплитуда');
title('Периодическая последовательность прямоугольных импульсов');
subplot(2,1,2);
stem((0:N-1), x);
xlabel('Нормированное время n');
ylabel('Амплитуда');
% Вывод графиков в частотной области
figure;
subplot(2,1,1);
stem(k, abs(X));
xlabel('Нормированная частота k');
ylabel('Модуль ДПФ');
title('Модуль ДПФ периодической последовательности');
subplot(2,1,2);
stem(k.*(fs/N), abs(X));
xlabel('Абсолютная частота f (Гц)');
ylabel('Модуль ДПФ');
% Определение ширины главного лепестка (приблизительное)
main_lobe_width = 2 *pi / (n_imp*(1/fs)); % Ширина главного лепестка зависит от периода
% Вывод результатов
fprintf('Длительность импульса: %d отсчетов\n', pulse_duration);
fprintf('Период: %d отсчетов\n', period);
fprintf('Скважность: %.2f\n', duty_cycle);
fprintf('Ширина главного лепестка: %.2f Гц\n', main_lobe_width);
